/*********************************************************************************************/
【*】程序简介

-工程名称：USART1 接发通信实验
-实验平台: 野火STM32 指南者 开发板 

【 ！】功能简介：
利用开发板的USART与电脑端进行接发通信

【 ！】实验操作：
保证开发板相关硬件连接正确，用USB线连接开发板的USB转串口跟电脑，在电脑端打开串口  
调试助手并配置好相关参数：115200 8-N-1，把编译好的程序下载到开发板，此时串口调试助手即可收到开发板发过来的数据。
在串口调试助手发送区域输入任意字符，点击发送按钮，马上在串口调试助手接收区即可看到相同的字符。


/*********************************************************************************************/
【*】 引脚分配

	CH340G  TXD  <----->  USART1  RX  (PA9)
	CH340G  RXD  <----->  USART1  TX  (PA10)


*开发板中的CH340G的收发引脚默认通过跳帽连接到USART1， 如果想使用其他串口，
可以把 CH340G 跟 USART1 直接的连接跳帽拔掉，然后再把其他串口的 IO用杜邦线接到CH340G 的收发引脚即可。


/*********************************************************************************************/
【*】程序描述：

< bsp _usart.h >
   
	1.宏定义USART的端口、时钟、波特率
	2.宏定义USART对应的GPIO的时钟、引脚
	3.宏定义USART的中断




< bsp_usart.c  >

- NVIC中断配置程序

	1.引用结构体
	2.配置NVIC的优先级分组（选择嵌套向量中断控制器组）
	3.USART设置为中断源，配置抢占优先级、子优先级
	4.使能中断通道
	5.初始化NVIC

- 配置USART

	1.引用结构体
	2.把GPIO和串口外设的时钟打开，
	3.设置对应的引脚模式，TX引脚为复用推挽输出，RX引脚为浮空输入
	4.配置串口波特率、帧数据长度、停止位长度、是否启用校验位、是否使用硬件流控制、工作模式
	5.完成串口的初始化配置
	6.在USART配置程序中调用NVIC中断
	7.使能串口接收中断，使能串口

- 字符发送

	1.发送一个字节数据到USART
	2.等待发送数据寄存器为空
	3.调用发送字节函数，通过循环，使程序能够发送字符串



< stm32f10x_it.c >

	1.编写串口中断服务函数，当发生中断，则使用USART_ReceiveData 读取数据到指定存储区，
	然后通过USART_SendData把数据发送给串口



< main.c >
	
	1.初始化USART配置
	2.向串口发送"这是一个串口中断接收回显实验“
	3.循环等待串口发送内容



【*】具体设计思路：

在开发板上电时通过USART 发送一串字符串给电脑，然后开发板进入中断接收等待状态，
如果电脑有发送数据过来，开发板就会产生中断，我们在中断服务函数接收数据，并马上把数据返回发送给电脑。



/*********************************************************************************************/

【*】 联系我们

-野火官网  :https://embedfire.com
-野火论坛  :http://www.firebbs.cn
-野火商城  :https://yehuosm.tmall.com/
-野火资料下载中心 :http://doc.embedfire.com/products/link

/*********************************************************************************************/
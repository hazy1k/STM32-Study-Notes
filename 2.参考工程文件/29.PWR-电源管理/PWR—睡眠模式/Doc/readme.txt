/*********************************************************************************************/
【*】程序简介

-工程名称：睡眠模式
-实验平台: 野火STM32 指南者 开发板 
-MDK版本：5.16
-ST固件库版本：3.50

【 ！】功能简介：
学习使用睡眠模式降低功耗

【 ！！】注意事项：
在睡眠状态下，DAP下载器无法给STM32下载程序，
可按KEY1、KEY2唤醒后下载，
或按复位键使芯片处于复位状态，然后在电脑上点击下载按钮，再释放复位按键，即可下载

【 ！】实验操作：
连接串口调试助手可获取调试信息。
本程序中，绿灯表示STM32正常运行，红灯表示睡眠状态，蓝灯表示刚从睡眠状态被唤醒
本实验执行这样一个循环： ------》亮绿灯(正常运行)->亮红灯(睡眠模式)->按KEY1或KEY2唤醒->亮蓝灯(刚被唤醒)-----》

1.下载程序并复位
2.板子会亮绿灯
3.程序运行一段时间后自动进入睡眠状态(亮红灯)，在睡眠状态下，可使用KEY1或KEY2唤醒
4.刚唤醒时使用蓝灯指示状态

各个状态时会使用串口输出

2、3、4步骤循环

/*********************************************************************************************/

【*】 引脚分配
KEY:
两个按键均有硬件去抖，按下的时候均为高电平，不按时为低电平。

	KEY1<--->PA0
	KEY2<--->PC13

LED：
RGB彩灯的三个阴极接到STM32三个引脚上，LED低电平亮。

	R<--->PB5
	G<--->PB1
	B<--->PB0

串口（TTL-USB TO USART）：
CH340的收发引脚与STM32的发收引脚相连。
	CH340  RXD  <----->  USART1  TX  (PA9)
	CH340  TXD  <----->  USART1  RX  (PA10)

【*】 程序相关

    (1) 初始化用于唤醒的中断按键；
    (2) 进入睡眠状态；
    (3) 使用按键中断唤醒芯片；
    
    在睡眠模式中，仅关闭了内核时钟，内核停止运行，但其片上外设，CM3 核心的外设全都还照常运行。
    有两种方式进入睡眠模式，它的进入方式决定了从睡眠唤醒的方式，分别是 WFI(wait forinterrupt) 
    和 WFE(wait forevent)，即由等待“中断”唤醒和由等待“事件”唤醒。

/*********************************************************************************************/

【*】 版本

-程序版本：1.0
-发布日期：2015-10

-版本更新说明：首次发布

/*********************************************************************************************/

【*】 联系我们

-野火官网  :https://embedfire.com
-野火论坛  :http://www.firebbs.cn
-野火商城  :https://yehuosm.tmall.com
-野火资料下载中心 :http://doc.embedfire.com/products/link

/*********************************************************************************************/
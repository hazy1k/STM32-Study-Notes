/*********************************************************************************************/

【*】程序简介

-工程名称：直接存储器访问（存储器到外设）
-实验平台: 野火STM32-F103 指南者 开发板 
-ST固件库版本：3.5.0

【 ！】功能简介：
利用DMA向串口发送大量的数据，同时让CPU控制LED的状态

/*********************************************************************************************/

 【*】实验操作：

      1.把编译好的程序下载到开发板上
      2.打开【多功能调试助手】，并配置好相关的参数      配置模式为 115200 8-N-1
      3.打开串口
      4.接收区会出现无数个p
        
    

         
  /*证明程序已经成功下载到板子上*/

/*********************************************************************************************/

【*】 引脚分配

LED灯：
	(RED)R26    引脚为PB5
	(GREEN)R24  引脚为PB0
	(BLUE)R44   引脚为PB1
				  
			  
USART1：
	CH340  RXD  <----->  USART1  TX  (PA9)
	CH340  TXD  <----->  USART1  RX  (PA10)


/*********************************************************************************************/

【*】程序描述：

 <bsp_usart_dma.h>: 
	
	1.宏定义所选用的串口、串口的外设时钟、串口时钟使能以及串口的波特率
	 2.宏定义串口有关的GPIO时钟及其时钟使能
	 3.宏定义串口的收发引脚接口
	 4.宏定义串口的中断寄存器请求	
	 5.宏定义DMA的请求通道、外设寄存器地址、一次发送的数据量
				
 <bsp_usart_dma.c>:
	
	1.配置NVIC(嵌套向量中断控制器）	          
	2.配置USART(其中包括两大部分：GPIO口的初始化和USART的初始化。    
       		GPIO口的初始化和前面的一样，这里不赘述。
			USART的初始化：配置工作参数，完成配置的程序，配置串口中断优先级，使能串口接收中断，使能串口
	3.编程发送一个字节、8位数组、字符串、一个16位数的函数体
	4.重定向c库函数printf和scanf到串口
	5.DMA配置
	


 <main.c>:

	1.调用USART的配置
	2.调用DMA的配置
	3.调用GPIO的配置
	4.填充将要发送的数据
	5.使能，USART1向DMA发出TX请求


【*】注意：1.与USART的.c和.h相比，dma的文件都只是增加了第5点
	 2.  <bsp_led.c>  <bsp_led.c>都和之前的配置一样，只是LED1和LED3对应的引脚调换，导致实验时，灯光闪烁的颜色不一样。
	3.配置外设的结构体相关参数时的时候，都可以ctrl+F查找方式，输入stm32f10x_xxx.h("xxx"为外设文件名，比如gpio)，再找到typedef struct
	4.USART1的TX请求只能选DMA1通道4
	
/*********************************************************************************************/

【*】 联系我们

-野火官网  :https://embedfire.com
-野火论坛  :http://www.firebbs.cn
-野火商城  :https://yehuosm.tmall.com/
-野火资料下载中心 :http://doc.embedfire.com/products/link

/*********************************************************************************************/


